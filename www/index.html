<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nginx — It works!</title>
  <meta name="description" content="A friendly landing page to verify your Nginx server is serving static files and JavaScript correctly." />
  <style>
    /*
      ┌───────────────────────────────────────────────────────────────┐
      │  Drop this file in your Nginx web root, e.g.:                │
      │  /usr/share/nginx/html/index.html                             │
      │  Then visit http://<server-ip>/ to verify.                    │
      │  This page checks: HTML served ✓, CSS applied ✓, JS running ✓ │
      └───────────────────────────────────────────────────────────────┘
    */

    :root {
      --bg-start: #0ea5e9; /* sky-500 */
      --bg-end:   #10b981; /* emerald-500 */
      --panel: 255 255 255;   /* white in rgb triplet */
      --ink:   17 24 39;      /* gray-900 */
      --muted: 75 85 99;      /* gray-600 */
      --good:  5 150 105;     /* emerald-600 */
      --warn:  245 158 11;    /* amber-500 */
      --bad:   239 68 68;     /* red-500 */
      --ring:  59 130 246;    /* blue-500 */
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --panel: 17 24 39;    /* gray-900 */
        --ink:   243 244 246; /* gray-100 */
        --muted: 156 163 175; /* gray-400 */
      }
    }

    html, body {
      height: 100%;
    }

    body {
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: rgb(var(--ink));
      background: linear-gradient(135deg, var(--bg-start), var(--bg-end));
      display: grid;
      place-items: center;
      overflow-wrap: anywhere;
    }

    .card {
      background: rgba(var(--panel), 0.9);
      backdrop-filter: blur(8px) saturate(1.2);
      border-radius: 1.25rem;
      box-shadow: 0 10px 30px rgba(0,0,0,.15);
      width: min(920px, 92vw);
      padding: clamp(18px, 3.5vw, 32px);
      border: 1px solid rgba(0,0,0,.05);
      position: relative;
    }

    .badge {
      position: absolute; inset: -10px auto auto -10px;
      background: rgb(255 255 255 / .85);
      color: #0f766e;
      border: 1px solid rgba(0,0,0,.05);
      padding: 6px 10px;
      font-size: 12px; font-weight: 700; letter-spacing: .04em;
      border-radius: .75rem;
    }

    header {
      display: grid; grid-template-columns: auto 1fr; gap: 18px; align-items: center;
      margin-bottom: 14px;
    }

    .logo {
      width: 64px; height: 64px; display: grid; place-items: center;
      border-radius: 18px; background: rgba(16,185,129,.12);
      border: 1px solid rgba(16,185,129,.25);
    }

    .logo svg { width: 42px; height: 42px; }

    h1 {
      margin: 0; font-size: clamp(22px, 3.4vw, 34px); line-height: 1.15;
    }

    .subtitle { color: rgb(var(--muted)); margin-top: 6px; }

    .status {
      display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 12px; margin-top: 8px;
    }

    .pill {
      display: flex; align-items: center; gap: 10px;
      background: rgba(16,185,129,.1);
      border: 1px solid rgba(16,185,129,.25);
      color: rgb(var(--good));
      padding: 10px 12px; border-radius: 999px; font-weight: 600;
    }

    .pill.warn { background: rgba(245,158,11,.1); border-color: rgba(245,158,11,.25); color: rgb(var(--warn)); }
    .pill.bad  { background: rgba(239,68,68,.1);  border-color: rgba(239,68,68,.25);  color: rgb(var(--bad));  }

    .grid {
      display: grid; grid-template-columns: 1fr 1fr; gap: 14px;
      margin-top: 22px;
    }

    .panel {
      background: rgba(255,255,255,.7);
      border: 1px solid rgba(0,0,0,.06);
      border-radius: 1rem; padding: 14px 16px;
    }
    @media (prefers-color-scheme: dark) {
      .panel { background: rgba(0,0,0,.25); }
    }

    dt { font-weight: 700; }
    dd { margin: 0; color: rgb(var(--muted)); }

    .kv { display: grid; grid-template-columns: 140px 1fr; gap: 8px 16px; }

    .btns { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 18px; }

    button {
      appearance: none; border: none; cursor: pointer; font-weight: 700;
      padding: 10px 14px; border-radius: .75rem;
      background: white; color: rgb(31 41 55);
      border: 1px solid rgba(0,0,0,.06);
      box-shadow: 0 2px 6px rgba(0,0,0,.06);
    }
    button:focus-visible { outline: 3px solid rgb(var(--ring)); outline-offset: 3px; }
    button.primary { background: rgb(16 185 129 / .95); color: white; border-color: rgba(16,185,129,.35); }

    footer { margin-top: 16px; color: rgb(var(--muted)); font-size: 12px; }

    .pulse {
      position: relative; width: 10px; height: 10px; border-radius: 999px; background: rgb(var(--good));
    }
    .pulse::after {
      content: ""; position: absolute; inset: -8px; border-radius: inherit; border: 2px solid rgba(16,185,129,.35);
      animation: ping 1.6s cubic-bezier(0, 0, .2, 1) infinite;
    }
    @keyframes ping { 75%, 100% { transform: scale(1.8); opacity: 0; } }

    .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }
  

    :root[data-theme="slate"] { --bg-start: #0f172a; --bg-end: #334155; --ring: 59 130 246; }
  </style>
</head>
<body>
  <main class="card" role="main" aria-labelledby="title">
    <span class="badge" aria-hidden="true">NGINX</span>

    <header>
      <div class="logo" aria-hidden="true">
        <!-- Inline SVG: Hexagon with check (no external assets) -->
        <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Success">
          <defs>
            <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#34d399"/>
              <stop offset="100%" stop-color="#10b981"/>
            </linearGradient>
          </defs>
          <path d="M32 2 58 16v32L32 62 6 48V16z" fill="url(#g)"/>
          <path d="M24.5 32.5l5.5 6.5 9.5-13" fill="none" stroke="#fff" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
      <div>
        <h1 id="title">It works — your Nginx server is serving static files ✔</h1>
        <p class="subtitle">If you can see this page with the green check, HTML/CSS/JS are being served correctly.</p>
        <div class="status" role="status" aria-live="polite">
          <div class="pill"><span class="pulse" aria-hidden="true"></span> HTTP reachable</div>
          <div id="cssStatus" class="pill">Styles applied</div>
          <div id="jsStatus" class="pill">JavaScript running</div>
        </div>
      </div>
    </header>

    <section class="grid" aria-label="Diagnostics">
      <div class="panel">
        <h2 style="margin-top:0">Connection details</h2>
        <dl class="kv">
          <dt>URL</dt><dd id="kv-url"></dd>
          <dt>Protocol</dt><dd id="kv-proto"></dd>
          <dt>Host</dt><dd id="kv-host"></dd>
          <dt>Port</dt><dd id="kv-port"></dd>
          <dt>Path</dt><dd id="kv-path"></dd>
          <dt>Time (client)</dt><dd id="kv-time"></dd>
          <dt>User agent</dt><dd id="kv-ua"></dd>
        </dl>
        <div class="btns">
          <button class="primary" id="copyBtn" type="button">Copy diagnostics</button>
          <button id="reloadBtn" type="button">Reload</button>
        </div>
        <p id="copiedMsg" class="sr-only" role="status" aria-live="polite">Copied!</p>
      </div>
      <div class="panel">
        <h2 style="margin-top:0">What this verifies</h2>
        <ul>
          <li>Static file serving (<code>index.html</code>) is working.</li>
          <li>Styles are applied (checked via JavaScript).</li>
          <li>Client-side JavaScript executes (this message and the time update).</li>
        </ul>
      </div>
    </section>

    <footer>
      <span>© <span id="year"></span> Your Server. Built for quick Nginx checks.</span>
    </footer>
  </main>

  <script>
    (function () {
      const byId = id => document.getElementById(id);

      // Theme switcher
      const root = document.documentElement;
      const THEME_KEY = 'demo-theme';
      function setTheme(t) {
        root.dataset.theme = t;
        localStorage.setItem(THEME_KEY, t);
        document.querySelectorAll('.theme-btn').forEach(btn => {
          const on = btn.dataset.theme === t;
          btn.classList.toggle('active', on);
          btn.setAttribute('aria-pressed', on ? 'true' : 'false');
        });
      }
      const savedTheme = localStorage.getItem(THEME_KEY) || 'slate';
      setTheme(savedTheme);
      document.querySelectorAll('.theme-btn').forEach(btn => {
        btn.addEventListener('click', () => setTheme(btn.dataset.theme));
      });

      // Mark JS running
      byId('jsStatus').innerHTML = 'JavaScript running ✓';

      // Basic CSS check: is the body background a gradient?
      const bg = getComputedStyle(document.body).backgroundImage || '';
      if (!bg.includes('gradient')) {
        const el = byId('cssStatus');
        el.textContent = 'Styles failed to load';
        el.classList.add('bad');
      } else {
        byId('cssStatus').textContent = 'Styles applied ✓';
      }

      const { protocol, host, hostname, port, pathname } = window.location;
      byId('kv-url').textContent   = window.location.href;
      byId('kv-proto').textContent = protocol.replace(':','');
      byId('kv-host').textContent  = hostname;
      byId('kv-port').textContent  = port || (protocol === 'https:' ? '443' : '80');
      byId('kv-path').textContent  = pathname || '/';
      byId('kv-ua').textContent    = navigator.userAgent;

      const timeEl = byId('kv-time');
      function tick() {
        const now = new Date();
        timeEl.textContent = now.toLocaleString();
      }
      tick();
      setInterval(tick, 1000);

      // Footer year
      byId('year').textContent = new Date().getFullYear();

      // Copy diagnostics to clipboard
      byId('copyBtn').addEventListener('click', async () => {
        const lines = [
          `URL: ${window.location.href}`,
          `Protocol: ${protocol.replace(':','')}`,
          `Host: ${hostname}`,
          `Port: ${port || (protocol === 'https:' ? '443' : '80')}`,
          `Path: ${pathname || '/'}`,
          `User Agent: ${navigator.userAgent}`,
          `Time (client): ${new Date().toLocaleString()}`,
        ];
        try {
          await navigator.clipboard.writeText(lines.join('\n'));
          const msg = byId('copiedMsg');
          msg.classList.remove('sr-only');
          msg.textContent = 'Copied to clipboard!';
          setTimeout(() => msg.classList.add('sr-only'), 1800);
        } catch (err) {
          alert('Could not copy. You can copy manually from the Diagnostics section.');
        }
      });

      byId('reloadBtn').addEventListener('click', () => location.reload());
    })();
  </script>
</body>
</html>
